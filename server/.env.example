# ============================================
# FLIGHT BOOKING APP - Backend Environment Variables
# ============================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env in the server/ directory
# 2. Replace all placeholder values with your actual credentials
# 3. NEVER commit the .env file to version control!
# 4. For Railway/Render deployment, add these in the platform's dashboard
#
# ============================================

# ============================================
# Server Configuration
# ============================================
NODE_ENV=development
# For production: NODE_ENV=production
PORT=3001

# Security
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=generate_a_secure_random_64_character_string_here

# Frontend URL (for CORS)
# Development: http://localhost:5173
# Production: https://your-frontend-url.vercel.app
FRONTEND_URL=http://localhost:5173

# ============================================
# Firebase Configuration (Backend)
# ============================================
# Get from: Firebase Console → Project Settings → General
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_API_KEY=your_firebase_api_key_here
FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
FIREBASE_STORAGE_BUCKET=your-project-id.firebasestorage.app
FIREBASE_MESSAGING_SENDER_ID=your_sender_id_here
FIREBASE_APP_ID=your_app_id_here
FIREBASE_MEASUREMENT_ID=G-YOUR_MEASUREMENT_ID

# ============================================
# Firebase Admin SDK (Backend Only)
# ============================================
# CRITICAL: This is the most sensitive credential!
# Get from: Firebase Console → Project Settings → Service Accounts → Generate New Private Key
#
# ⚠️ SECURITY WARNING:
# - NEVER commit this to git
# - In production, use platform environment variables
# - This should be the ENTIRE service account JSON as a single line
#
# Example format (all on one line):
# FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"your-project","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...@your-project.iam.gserviceaccount.com","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"...","universe_domain":"googleapis.com"}
FIREBASE_SERVICE_ACCOUNT=paste_entire_firebase_service_account_json_here_as_single_line

# ============================================
# Amadeus Flight API
# ============================================
# Get from: https://developers.amadeus.com/my-apps
AMADEUS_API_KEY=your_amadeus_api_key_here
AMADEUS_API_SECRET=your_amadeus_api_secret_here
AMADEUS_HOSTNAME=test
# For production: AMADEUS_HOSTNAME=production

# ============================================
# Payment Gateway - Paystack
# ============================================
# ⚠️ CRITICAL: Use TEST keys for development, LIVE keys ONLY in production!
# Get from: https://dashboard.paystack.com/#/settings/developers
#
# DEVELOPMENT (use these):
PAYSTACK_SECRET_KEY=sk_test_your_test_secret_key_here
PAYSTACK_PUBLIC_KEY=pk_test_your_test_public_key_here
#
# PRODUCTION (NEVER use in development):
# PAYSTACK_SECRET_KEY=sk_live_your_live_secret_key_here
# PAYSTACK_PUBLIC_KEY=pk_live_your_live_public_key_here

# ============================================
# Email Services
# ============================================

# Resend (for university application emails)
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key_here
RESEND_FROM_EMAIL=onboarding@resend.dev
# For production with verified domain: your-email@yourdomain.com

# Gmail SMTP (for booking confirmation emails with PDF attachments)
# Setup instructions:
# 1. Go to https://myaccount.google.com/security
# 2. Enable 2-Factor Authentication
# 3. Go to https://myaccount.google.com/apppasswords
# 4. Generate a new App Password for "Mail"
# 5. Paste the generated password below (16 characters, no spaces)
GMAIL_USER=your-email@gmail.com
GMAIL_APP_PASSWORD=your_16_char_app_password_here

# ============================================
# Push Notifications (Web Push)
# ============================================
# Generate with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your_vapid_public_key_here
VAPID_PRIVATE_KEY=your_vapid_private_key_here
VAPID_SUBJECT=mailto:your-email@example.com

# ============================================
# Logging & Monitoring
# ============================================
LOG_LEVEL=info
# Options: error, warn, info, debug

# Sentry Error Tracking (Recommended for Production)
# Get from: https://sentry.io/ → Create Project → Get DSN
# Format: https://[key]@[organization].ingest.sentry.io/[project-id]
# Leave empty to disable Sentry (error tracking will use Winston logs only)
SENTRY_DSN=
# For production: SENTRY_DSN=https://your-key@your-org.ingest.sentry.io/your-project-id

# Enable Sentry in development (optional, for testing)
# SENTRY_DEBUG=true

# ============================================
# Optional: Database & Caching
# ============================================
# Uncomment if using PostgreSQL
# DATABASE_URL=postgresql://user:password@localhost:5432/flightbooking

# Uncomment if using Redis for caching
# REDIS_URL=redis://localhost:6379

# ============================================
# API Rate Limiting (Optional)
# ============================================
# Comma-separated list of API keys for external access
# VALID_API_KEYS=api_key_1,api_key_2,api_key_3
